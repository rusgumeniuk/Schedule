@model GroupScheduleViewModel

<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>GroupSchedule</title>
</head>
<body>
    <partial name="Header" />
    <h1 align="center">U r looking on the schedule of the @Model.Group.FullName</h1>
    <table>
        @for (int weekMode = 1; weekMode <= 2; ++weekMode)
        {
            <tr style="border:dotted">
                @for (int dayOfWeek = 1; dayOfWeek < Model.DaysOfWeeks.Count(); ++dayOfWeek)
                {
                    <td>
                        <div>
                            <strong>
                                @Model.DaysOfWeeks.First(val => (int)val == dayOfWeek)
                            </strong>
                            @for(byte lessonNumber = 1; lessonNumber < Model.LessonNumbers.Count(); ++lessonNumber)
                            {
                                <br />
                                <div>
                                    <div><i>@Model.LessonNumbers.First(val => (int)val == lessonNumber) lesson</i></div><br />
                                    @{
                                        var foundLesson = Model.Lessons.FirstOrDefault(lesson => (lesson.LessonWeek == weekMode || lesson.LessonWeek == 0) && lesson.DayNumber == (byte)dayOfWeek && lesson.LessonNumber == (byte)lessonNumber);
                                    }
                                    @if (foundLesson != null)
                                    {
                                        <div><u>@foundLesson.LessonName</u></div>
                                    }

                                </div>
                            }
                        </div>
                    </td>
                }
            </tr>

        }
    </table>
</body>
</html>
